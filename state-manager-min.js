function StateManager(t){this.value={prevValue:void 0,currentVal:t,get val(){return this.currentVal},set val(t){switch(typeof this.currentVal){case"undefined":break;case"string":this.prevValue=this.currentVal;break;case"object":this.prevValue=Object.assign({},this.currentVal)}this.currentVal=t}},this.cbs={}}StateManager.prototype.next=function(t){if(this.value.val!=t){if(this.cbs&&Object.values(this.cbs).length)for(var e=0;e<Object.keys(this.cbs).length;e++)this.cbs[e].call(this,this.value.val,t);this.value.val=t}},StateManager.prototype.value=function(){return this.value.val},StateManager.prototype.subscribe=function(t){var e=Object.keys(this.cbs).length,s=this;return t&&"function"==typeof t&&(this.cbs[e]=t),{dispose:function(){delete s.cbs[e]}}};
